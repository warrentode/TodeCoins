package com.github.warrentode.todecoins.datagen.loot_tables.merchant;

import com.faboslav.friendsandfoes.init.FriendsAndFoesItems;
import com.github.warrentode.todecoins.block.ModBlocks;
import com.github.warrentode.todecoins.item.ModItems;
import com.github.warrentode.todecoins.loot.ModBuiltInLootTables;
import com.github.warrentode.todecoins.loot.conditions.ModCheckCondition;
import com.github.warrentode.todecoins.loot.conditions.tag.BiomeTagCondition;
import com.github.warrentode.todecoins.util.tags.ModTags;
import net.mehvahdjukaar.cagerium.Cagerium;
import net.minecraft.advancements.critereon.LocationPredicate;
import net.minecraft.data.loot.ChestLoot;
import net.minecraft.resources.ResourceLocation;
import net.minecraft.tags.ItemTags;
import net.minecraft.world.item.Items;
import net.minecraft.world.level.Level;
import net.minecraft.world.level.block.Blocks;
import net.minecraft.world.level.storage.loot.LootPool;
import net.minecraft.world.level.storage.loot.LootTable;
import net.minecraft.world.level.storage.loot.entries.LootItem;
import net.minecraft.world.level.storage.loot.entries.LootTableReference;
import net.minecraft.world.level.storage.loot.entries.TagEntry;
import net.minecraft.world.level.storage.loot.functions.SetItemCountFunction;
import net.minecraft.world.level.storage.loot.predicates.LocationCheck;
import net.minecraft.world.level.storage.loot.predicates.LootItemCondition;
import net.minecraft.world.level.storage.loot.predicates.LootItemRandomChanceCondition;
import net.minecraft.world.level.storage.loot.providers.number.ConstantValue;
import org.jetbrains.annotations.NotNull;

import java.util.function.BiConsumer;

public class MerchantOffersGen extends ChestLoot {
    public static final LootItemCondition.Builder IN_OVERWORLD
            = LocationCheck.checkLocation(LocationPredicate.Builder.location().setDimension(Level.OVERWORLD));
    public static final LootItemCondition.Builder IN_NETHER
            = LocationCheck.checkLocation(LocationPredicate.Builder.location().setDimension(Level.NETHER));
    public static final LootItemCondition.Builder IN_END
            = LocationCheck.checkLocation(LocationPredicate.Builder.location().setDimension(Level.END));
    public static final LootItemCondition.Builder NETHER_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.NETHER_CURRENCY_BIOMES);
    public static final LootItemCondition.Builder ENDONIAN_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.ENDONIAN_CURRENCY_BIOMES);
    public static final LootItemCondition.Builder COPPER_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.COPPER_CURRENCY_BIOMES);
    public static final LootItemCondition.Builder IRON_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.IRON_CURRENCY_BIOMES);
    public static final LootItemCondition.Builder GOLD_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.GOLD_CURRENCY_BIOMES);
    public static final LootItemCondition.Builder GEM_CURRENCY_BIOME
            = BiomeTagCondition.tag().setTag(ModTags.BiomesTags.GEM_CURRENCY_BIOMES);

    @Override
    public void accept(@NotNull BiConsumer<ResourceLocation, LootTable.Builder> consumer) {
        consumer.accept(ModBuiltInLootTables.THREE_LUCKY_COIN_VALUE_ITEMS,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Blocks.BUDDING_AMETHYST).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .when(LootItemRandomChanceCondition.randomChance(0.000001F))
                        .add(LootItem.lootTableItem(Items.ECHO_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(28))))
                        .add(LootItem.lootTableItem(Items.END_CRYSTAL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(19))))
                        .add(LootItem.lootTableItem(Items.ENDER_EYE).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(57))))
                        .add(LootItem.lootTableItem(Items.GHAST_TEAR).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(57))))
                        .add(LootItem.lootTableItem(Items.NETHER_STAR).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .when(LootItemRandomChanceCondition.randomChance(0.000001F))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(36))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_CRYSTALS).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.SEA_LANTERN).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.OCHRE_FROGLIGHT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.VERDANT_FROGLIGHT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.PEARLESCENT_FROGLIGHT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(ModItems.LUCKY_FIBER.get())
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                ));
        consumer.accept(ModBuiltInLootTables.FOUR_POT_OF_GOLD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Blocks.COPPER_BLOCK).when(COPPER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(ModBlocks.IRON_COIN_BAG.get()).when(IRON_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(48)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.GOLD_COIN_BAG.get()).when(GOLD_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(36)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.IRON_COIN_BAG.get()).when(IRON_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(48)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.NETHERITE_COIN_BAG.get()).when(NETHER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModItems.ENDONIAN_COIN.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                ));
        consumer.accept(ModBuiltInLootTables.SINGLE_LUCKY_COIN_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_BANK_NOTE.get())
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_HALF_BANK_NOTE.get())
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModItems.NETHERITE_COIN.get()).when(NETHER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_QUARTER_BANK_NOTE.get())
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.ENDONIAN_COIN_BAG.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.NETHER_GOLD_COIN_BAG.get()).when(NETHER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(Blocks.EMERALD_BLOCK)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                ));
        consumer.accept(ModBuiltInLootTables.THIRTY_POTS_OF_GOLD_VALUE_ITEMS,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_FIBER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_COARSE_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(11))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_SMOOTH_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.SLIME_BALL).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(11))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.BLAZE_POWDER).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18))))
                        .add(LootItem.lootTableItem(Items.BLAZE_ROD).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.SHULKER_SHELL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.DRAGON_BREATH).when(IN_END)
                                .when(LootItemRandomChanceCondition.randomChance(0.01F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.CHORUS_FLOWER).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.CHORUS_FRUIT).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                ));
        consumer.accept(ModBuiltInLootTables.THIRTY_POTS_OF_GOLD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.AMETHYST_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_CLUSTER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.LARGE_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.DIAMOND_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(Items.ECHO_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.END_CRYSTAL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.ENDER_EYE).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.GHAST_TEAR).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE_DUST).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(11))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.LAPIS_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_CRYSTALS).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.REDSTONE_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                        .add(LootItem.lootTableItem(Items.QUARTZ_BLOCK).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_FIBER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(Items.EMERALD_BLOCK)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                ));
        consumer.accept(ModBuiltInLootTables.THIRTY_POTS_OF_GOLD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModBlocks.NETHER_GOLD_COIN_BAG.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(15))))
                        .add(LootItem.lootTableItem(ModBlocks.ENDONIAN_COIN_BAG.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_QUARTER_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(ModItems.NETHERITE_COIN.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_HALF_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.EMERALD_BLOCK)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                ));
        consumer.accept(ModBuiltInLootTables.SIXTY_POTS_OF_GOLD_VALUE_ITEMS,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_FIBER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(45))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_COARSE_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(11))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_SMOOTH_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(Items.SLIME_BALL).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                        .add(LootItem.lootTableItem(Items.BLAZE_POWDER).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(36))))
                        .add(LootItem.lootTableItem(Items.BLAZE_ROD).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18))))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.SHULKER_SHELL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.DRAGON_HEAD).when(IN_END)
                                .when(LootItemRandomChanceCondition.randomChance(0.001F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.ELYTRA).when(IN_END)
                                .when(LootItemRandomChanceCondition.randomChance(0.001F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                        .add(LootItem.lootTableItem(Items.CHORUS_FLOWER).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.CHORUS_FRUIT).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                ));
        consumer.accept(ModBuiltInLootTables.SIXTY_POTS_OF_GOLD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.REDSTONE_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(20))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_CRYSTALS).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(5))))
                        .add(LootItem.lootTableItem(Items.LAPIS_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(22))))
                        .add(LootItem.lootTableItem(Items.GHAST_TEAR).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18))))
                        .add(LootItem.lootTableItem(Items.ENDER_EYE).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.END_CRYSTAL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.ECHO_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.DIAMOND_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                        .add(LootItem.lootTableItem(Items.EMERALD_BLOCK)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                ));
        consumer.accept(ModBuiltInLootTables.SIXTY_POTS_OF_GOLD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModBlocks.NETHER_GOLD_COIN_BAG.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(30))))
                        .add(LootItem.lootTableItem(ModBlocks.ENDONIAN_COIN_BAG.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_QUARTER_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(ModItems.NETHERITE_COIN.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_HALF_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.EMERALD_BLOCK)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(10))))
                ));
        consumer.accept(ModBuiltInLootTables.FOUR_POT_OF_GOLD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.AMETHYST_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(24))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_CLUSTER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.LARGE_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.MEDIUM_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.SMALL_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(24))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE_DUST).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.REDSTONE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.QUARTZ).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(24))))
                        .add(LootItem.lootTableItem(Items.QUARTZ_BLOCK).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.EMERALD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                ));
        consumer.accept(ModBuiltInLootTables.FOUR_POT_OF_GOLD_VALUE_ITEMS,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.COPPER_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(54))))
                        .add(LootItem.lootTableItem(Items.COPPER_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(24))))
                        .add(LootItem.lootTableItem(Items.IRON_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18))))
                        .add(LootItem.lootTableItem(Items.GOLD_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_FIBER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_COARSE_WOVE_PAPER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.RABBIT_FOOT).when(IN_OVERWORLD)
                                .when(LootItemRandomChanceCondition.randomChance(0.10F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.SLIME_BALL).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.BLAZE_POWDER).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.BLAZE_ROD).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.MAGMA_CREAM).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.DRAGON_BREATH).when(IN_END)
                                .when(LootItemRandomChanceCondition.randomChance(0.01F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                ));
        consumer.accept(ModBuiltInLootTables.TWO_POT_OF_GOLD_VALUE_ITEMS,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_FIBER.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.GOLD_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(9))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Blocks.COPPER_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.COPPER_INGOT).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(27))))
                        .add(LootItem.lootTableItem(Items.STRING).when(IN_OVERWORLD.or(IN_NETHER))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(42))))
                        .add(LootItem.lootTableItem(Items.RABBIT_FOOT).when(IN_OVERWORLD)
                                .when(LootItemRandomChanceCondition.randomChance(0.10F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.DRAGON_BREATH).when(IN_END)
                                .when(LootItemRandomChanceCondition.randomChance(0.01F))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                ));
        consumer.accept(ModBuiltInLootTables.TWO_POT_OF_GOLD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Blocks.QUARTZ_BLOCK).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.QUARTZ).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.REDSTONE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE_DUST).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.SMALL_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.MEDIUM_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.LARGE_AMETHYST_BUD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_CLUSTER).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Blocks.AMETHYST_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(12))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                ));
        consumer.accept(ModBuiltInLootTables.TWO_POT_OF_GOLD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.ENDONIAN_COIN.get().asItem()).when(ENDONIAN_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(54)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.NETHER_GOLD_COIN_BAG.get().asItem()).when(NETHER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.COPPER_COIN_BAG.get().asItem()).when(COPPER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(54)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.GOLD_COIN_BAG.get().asItem()).when(GOLD_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.IRON_COIN_BAG.get().asItem()).when(IRON_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(24)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.COPPER_COIN_BAG.get().asItem()).when(COPPER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(54)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                ));
        consumer.accept(ModBuiltInLootTables.SIXYFOUR_EMERALD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(ModItems.NETHERITE_COIN.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_HALF_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(ModItems.EMERALD_QUARTER_BANK_NOTE.get())
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(ModItems.ENDONIAN_COIN.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(ModBlocks.NETHER_GOLD_COIN_BAG.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(21))))
                        .add(LootItem.lootTableItem(ModBlocks.POT_OF_GOLD.get()).when(GOLD_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(42))))
                        .add(LootItem.lootTableItem(Items.IRON_BLOCK).when(IRON_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(28))))
                        .add(LootItem.lootTableItem(Items.COPPER_BLOCK).when(COPPER_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                ));
        consumer.accept(ModBuiltInLootTables.SIXYFOUR_EMERALD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.REDSTONE_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(7))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_CRYSTALS).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.PRISMARINE_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.LAPIS_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(7))))
                        .add(LootItem.lootTableItem(Items.GLOWSTONE).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(16))))
                        .add(LootItem.lootTableItem(Items.GHAST_TEAR).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(13))))
                        .add(LootItem.lootTableItem(Items.ENDER_EYE).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6))))
                        .add(LootItem.lootTableItem(Items.END_CRYSTAL).when(IN_END)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.ECHO_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3))))
                        .add(LootItem.lootTableItem(Blocks.QUARTZ_BLOCK).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(Blocks.AMETHYST_BLOCK).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(64))))
                ));
        consumer.accept(ModBuiltInLootTables.SINGLE_EMERALD_VALUE_GEM_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(Items.QUARTZ).when(IN_NETHER)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.AMETHYST_SHARD).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(4))))
                        .add(LootItem.lootTableItem(Items.REDSTONE).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(2))))
                        .add(LootItem.lootTableItem(Items.DIAMOND).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI).when(IN_OVERWORLD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1))))
                ));
        consumer.accept(ModBuiltInLootTables.SINGLE_EMERALD_VALUE_CURRENCY,
                LootTable.lootTable().withPool(LootPool.lootPool()
                        .setRolls(ConstantValue.exactly(1.0F))
                        .setBonusRolls(ConstantValue.exactly(0F))
                        .add(LootItem.lootTableItem(ModItems.NETHER_GOLD_COIN.get()).when(NETHER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(3.0F)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModItems.ENDONIAN_COIN.get()).when(ENDONIAN_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1.0F)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.COPPER_COIN_BAG.get().asItem()).when(COPPER_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(18)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.IRON_COIN_BAG.get().asItem()).when(IRON_CURRENCY_BIOME)
                                .when(ModCheckCondition.mod().isLoaded("todecoins"))
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(8)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootItem.lootTableItem(ModBlocks.GOLD_COIN_BAG.get().asItem()).when(GOLD_CURRENCY_BIOME)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(6)))
                                .when(ModCheckCondition.mod().isLoaded("todecoins")))
                        .add(LootTableReference.lootTableReference(ModBuiltInLootTables.SINGLE_EMERALD_VALUE_GEM_CURRENCY)
                                .when(GEM_CURRENCY_BIOME).apply(SetItemCountFunction
                                        .setCount(ConstantValue.exactly(1.0F))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .apply(SetItemCountFunction.setCount(ConstantValue.exactly(1.0F))))
                ));
        consumer.accept(ModBuiltInLootTables.NUMISMATIST_RARE_OFFERS,
                LootTable.lootTable()
                        .withPool(LootPool.lootPool()
                                .setRolls(ConstantValue.exactly(1.0F))
                                .setBonusRolls(ConstantValue.exactly(0F))
                                .add(TagEntry.expandTag(ItemTags.MUSIC_DISCS))
                                .add(TagEntry.expandTag(ModTags.Items.SOUL_BINDER))
                                .add(LootItem.lootTableItem(Items.HEART_OF_THE_SEA))
                                .add(LootItem.lootTableItem(Items.ENCHANTED_GOLDEN_APPLE))
                                .add(LootItem.lootTableItem(Items.MOJANG_BANNER_PATTERN))
                                .add(LootItem.lootTableItem(Items.TOTEM_OF_UNDYING))
                                .add(LootItem.lootTableItem(Items.DRAGON_BREATH))
                                .add(LootItem.lootTableItem(Items.AMETHYST_BLOCK))
                                .add(LootItem.lootTableItem(Items.ELYTRA))
                                .add(LootItem.lootTableItem(Cagerium.TERRARIUM_BASE.get())
                                        .when(ModCheckCondition.mod().isLoaded("cagerium")))
                                .add(LootItem.lootTableItem(Cagerium.CAGE_BASE.get())
                                        .when(ModCheckCondition.mod().isLoaded("cagerium")))
                                .add(LootItem.lootTableItem(Cagerium.PLATE_GEM.get())
                                        .when(ModCheckCondition.mod().isLoaded("cagerium")))
                                .add(LootItem.lootTableItem(Cagerium.FIRE_UPGRADE.get())
                                        .when(ModCheckCondition.mod().isLoaded("cagerium")))
                                .add(LootItem.lootTableItem(FriendsAndFoesItems.TOTEM_OF_ILLUSION.get())
                                        .when(ModCheckCondition.mod().isLoaded("friendsandfoes")))
                                .add(LootItem.lootTableItem(FriendsAndFoesItems.TOTEM_OF_FREEZING.get())
                                        .when(ModCheckCondition.mod().isLoaded("friendsandfoes")))
                                .add(LootItem.lootTableItem(FriendsAndFoesItems.WILDFIRE_CROWN_FRAGMENT.get())
                                        .when(ModCheckCondition.mod().isLoaded("friendsandfoes")))
                        ));
        consumer.accept(ModBuiltInLootTables.NUMISMATIST_CONTAINER_OFFERS,
                LootTable.lootTable()
                        .withPool(LootPool.lootPool()
                                .setRolls(ConstantValue.exactly(1.0F))
                                .setBonusRolls(ConstantValue.exactly(0F))
                                .add(TagEntry.expandTag(ModTags.Items.SHULKER_BOXES))
                                .add(TagEntry.expandTag(ModTags.Items.WALLETS))
                                .add(LootItem.lootTableItem(Items.ENDER_CHEST))
                        ));
    }
}